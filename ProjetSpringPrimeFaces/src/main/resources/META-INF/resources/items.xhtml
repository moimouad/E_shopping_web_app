<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:c="http://java.sun.com/jstl/core"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  
  xmlns:p="http://primefaces.org/ui">
  

<h:head>
         
<script>
document.getElementById("date").innerHTML = Date();
</script>

   <f:metadata>
  	<f:event listener="#{accountView.verifyLoginOnWelcomedummy()}" type="preRenderView"></f:event>
  	<f:event listener="#{accountView.checkloginstatus()}" type="preRenderView"></f:event>

  </f:metadata>
  	<link rel="stylesheet" type="text/css" href="resources/css/items.css"/>
  
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"/>
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

	<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css"/>
	<link href="https://fonts.googleapis.com/css?family=Cinzel" rel="stylesheet"/>
	<link href="https://fonts.googleapis.com/css?family=Days+One" rel="stylesheet"/>
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/all.css"/>

	
	
	 <title> Home </title>
</h:head>

<h:body>

<ul class="topnav">

  <li><h:form><h:commandLink value="Home" action = "items.xhtml" styleClass="active"></h:commandLink></h:form></li> 
  <li><h:form><h:commandLink value="All Products" action = "products.xhtml" ></h:commandLink></h:form></li>   
  <c:forEach var="category" items="#{categoriesView.categories}">
  	<li><h:form><h:commandLink value="#{category.name}" action = "#"></h:commandLink></h:form></li>
  </c:forEach>
  
  <li class="right" style="#{accountView.loggedin ? '' : 'display:none'}"><h:form><h:commandLink action="orders?faces-redirect=true" value = "orders" onclick="#"/></h:form></li>
  <li class="right" id="username" style="#{accountView.loggedin ? '' : 'display:none'}"><h:form><h:commandLink action="profile.xhtml" value = "#{accountView.username}"/></h:form></li>
  <li class="right" style="#{accountView.loggedin ? '' : 'display:none'}"><h:form><h:commandLink action="#{accountView.logout()}" value = "Logout" /></h:form></li>
  <li class="right" style="#{accountView.loggedin ? 'display:none' : ''}"><h:form><h:commandLink action="index.xhtml" value = "Login/Signup"/></h:form></li>
  <li class="right" style="#{accountView.admin() ? '' : 'display:none'}"><h:form><h:commandLink action="admin_categ.xhtml" value = "Admin Espace"/></h:form></li>
  <li class = "right" style="#{accountView.loggedin ? '' : 'display:none'}"><h:form><h:commandLink action="#" onclick="#"><span class="fontawesome-shopping-cart"></span><h:outputText value = "not yet"></h:outputText></h:commandLink></h:form></li>
  
</ul>

<!-- Debut Body !!! -->
    <p:graphicImage name="resources/images/HappyShopping.jpg" id="image"  width="100%" />
    
  
<div  class="bg-light  row " style="background-image: url('https://japjap.net/wp-content/uploads/2013/03/BG-Distant-Memories.jpg');">
   <div class="col-md-1 col-lg-1 text-center text-md-left">
   
   </div>
    <div class="col-md-10 col-lg-10 text-center text-md-left" style="background-color:transparent;">
      <br></br> <br></br> <br></br>
<h:form id="form" >
    <p:dataGrid var="category" value="#{categoriesView.categories}" columns="3" layout="grid"
        rows="12" paginator="false" id="categories"
        paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
        rowsPerPageTemplate="6,12,16">       
        <f:facet name="header">
            Categories
        </f:facet>
 
        <p:panel header="#{category.name}" style="text-align:center ">
            <h:panelGrid columns="1" style="width:100% ">
               <p:graphicImage url="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/JPEG_example_flower.jpg/260px-JPEG_example_flower.jpg" style = "width:150px;height:150px "/>
 				<br></br>
                <p:commandButton id="edit"  value="Explore" icon="ui-icon-search">
		    		<f:setPropertyActionListener value="#{category}" target="#{categoriesview.selected}" />
		    	</p:commandButton>
		    	
            </h:panelGrid>
        </p:panel>
    </p:dataGrid>
 
    <p:dialog header="Car Info" widgetVar="carDialog" modal="true" showEffect="fade" hideEffect="fade" resizable="false">
        <p:outputPanel id="carDetail" style="text-align:center;">
            <p:panelGrid  columns="2" rendered="#{not empty dataGridView.selectedCar}" columnClasses="label,value">
                <f:facet name="header">
                    <p:graphicImage name="demo/images/car/#{dataGridView.selectedCar.brand}-big.gif"/> 
                </f:facet>
                 
               
            </p:panelGrid>
        </p:outputPanel>
    </p:dialog>
</h:form>
  <br></br> <br></br> <br></br>
  </div>
    <div class="col-md-1 col-lg-1 text-center text-md-left"> </div>
 
 </div>


    
<!-- Fin Body !!! -->
  
<!-- Debut Footer !!! -->
<ui:include src="footer.xhtml" />

<!-- Fin Footer !!! -->
</h:body>
</html>
