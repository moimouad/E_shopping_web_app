<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:p="http://primefaces.org/ui">

<h:head>

   <f:metadata>
  	<f:event listener="#{accountView.verifyLoginOnWelcomedummy()}" type="preRenderView"></f:event>
  	<f:event listener="#{accountView.checkloginstatus()}" type="preRenderView"></f:event>

  </f:metadata>

	<link rel="stylesheet" type="text/css" href="resources/css/items.css"/>
	<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css"/>
	<link href="https://fonts.googleapis.com/css?family=Cinzel" rel="stylesheet"/>
	<link href="https://fonts.googleapis.com/css?family=Days+One" rel="stylesheet"/>
  <title>PrimeFaces DataTable Example</title>
</h:head>

<h:body>

<ul class="topnav">
  <li><h:form><h:commandLink value="Home" action = "#" styleClass="active"></h:commandLink></h:form></li>
  <li><h:form><h:commandLink value="T-shirts" action = "#"></h:commandLink></h:form></li>
  <li><h:form><h:commandLink value="shoes" action = "#"></h:commandLink></h:form></li>
  <li class="right" style="#{accountView.loggedin ? '' : 'display:none'}"><h:form><h:commandLink action="orders?faces-redirect=true" value = "orders" onclick="#"/></h:form></li>
  <li class="right" id="username" style="#{accountView.loggedin ? '' : 'display:none'}"><h:form><h:commandLink action="profile.xhtml" value = "#{accountView.username}"/></h:form></li>
  <li class="right" style="#{accountView.loggedin ? '' : 'display:none'}"><h:form><h:commandLink action="#{accountView.logout()}" value = "Logout" /></h:form></li>
  <li class="right" style="#{accountView.loggedin ? 'display:none' : ''}"><h:form><h:commandLink action="index.xhtml" value = "Login/Signup"/></h:form></li>
  <li class="right" style="#{accountView.admin() ? '' : 'display:none'}"><h:form><h:commandLink action="cars.xhtml" value = "Admin Espace"/></h:form></li>
  <li class = "right" style="#{accountView.loggedin ? '' : 'display:none'}"><h:form><h:commandLink action="#" onclick="#"><span class="fontawesome-shopping-cart"></span><h:outputText value = "not yet"></h:outputText></h:commandLink></h:form></li>
  
</ul>

<!-- Debut Body !!! -->

  <p:dataTable var="car" value="#{carsView.cars}">
    <p:column headerText="Id">
      <h:outputText value="#{car.id}" />
    </p:column>

    <p:column headerText="Year">
      <h:outputText value="#{car.year}" />
    </p:column>

    <p:column headerText="Brand">
      <h:outputText value="#{car.brand}" />
    </p:column>

    <p:column headerText="Color">
      <h:outputText value="#{car.color}" />
    </p:column>
  </p:dataTable>
  
<!-- Fin Body !!! -->

<div class="heading">
  <h6 class="title-text" style = "font-family: 'Days One', sans-serif;"><span>Â© 2020 Jee Projet</span></h6>
  <div class="hline"></div>
</div>

</h:body>
</html>